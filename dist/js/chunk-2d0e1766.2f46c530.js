(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1766"],{"7b16":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box"},[a("el-input",{staticClass:"box-input mr20",attrs:{placeholder:"请输入搜索值",size:"mini",clearable:""},model:{value:e.pageQuery.query,callback:function(t){e.$set(e.pageQuery,"query",t)},expression:"pageQuery.query"}}),a("el-button",{attrs:{type:"primary",icon:"fa fa-magnifying-glass",size:"mini"},on:{click:e.getUserList}},[e._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"userId",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",formatter:e.sexFormat,align:"center"}}),a("el-table-column",{attrs:{prop:"school",label:"学校",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话",align:"center"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center"}}),a("el-table-column",{attrs:{prop:"groupName",label:"用户组",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.updateStudent(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pageQuery.currentPage,"page-sizes":[10,25,50],"page-size":e.pageQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.update,width:"30%"},on:{"update:visible":function(t){e.update=t}}},[a("el-form",{ref:"updateData",staticClass:"demo-ruleForm",attrs:{model:e.updateData,"label-width":"100px",rules:e.rules,visible:e.update},on:{"update:visible":function(t){e.update=t}}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateData.name,callback:function(t){e.$set(e.updateData,"name",e._n(t))},expression:"updateData.name"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.updateData.sex,callback:function(t){e.$set(e.updateData,"sex",t)},expression:"updateData.sex"}},[a("el-radio",{attrs:{label:!0}},[e._v("男")]),a("el-radio",{attrs:{label:!1}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"生日"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.updateData.birthday,callback:function(t){e.$set(e.updateData,"birthday",t)},expression:"updateData.birthday"}})],1)]),a("el-form-item",{attrs:{label:"学校"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateData.school,callback:function(t){e.$set(e.updateData,"school",e._n(t))},expression:"updateData.school"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateData.address,callback:function(t){e.$set(e.updateData,"address",e._n(t))},expression:"updateData.address"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateData.phone,callback:function(t){e.$set(e.updateData,"phone",e._n(t))},expression:"updateData.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateData.email,callback:function(t){e.$set(e.updateData,"email",e._n(t))},expression:"updateData.email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.update=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("updateData")}}},[e._v("提交")])],1)],1)],1)},r=[],n=(a("ac1f"),a("00b4"),a("d9e2"),a("7c15")),s={name:"Users",data:function(){return{updateData:{},update:!1,drawer:!1,studentData:{},tableData:[],total:0,pageQuery:{query:null,currentPage:1,pageSize:10},rules:{phone:[{message:"请输入手机号码",trigger:"change"},{validator:this.checkPhone,trigger:"change"}],age:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]}}},methods:{updateStudent:function(e){this.update=!0,this.updateData=e},submitForm:function(){var e=this;Object(n["d"])("/user/update",this.updateData).then((function(t){200===t.data.code&&(e.update=!1,e.$message({message:"修改成功",type:"success"}))}))},checkPhone:function(e,t,a){/^1[34578]\d{9}$/.test(t)||a(new Error("请输入正确的手机号码!"))},sexFormat:function(e){return e.sex?"男":"女"},handleSizeChange:function(e){this.pageQuery.pageSize=e,this.getUserList()},handleCurrentChange:function(e){this.pageQuery.currentPage=e,this.getUserList()},getUserList:function(){var e=this;Object(n["c"])("/users/list",this.pageQuery).then((function(t){e.tableData=t.data.data.records,e.total=t.data.data.total}))}},mounted:function(){this.getUserList()}},o=s,u=a("2877"),i=Object(u["a"])(o,l,r,!1,null,"7140e8dc",null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0e1766.2f46c530.js.map