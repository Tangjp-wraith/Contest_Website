(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd40ffb8"],{"498a":function(t,e,n){"use strict";var a=n("23e7"),s=n("58a8").trim,o=n("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return s(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("e330"),s=n("1d80"),o=n("577e"),i=n("5899"),r=a("".replace),l="["+i+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t){return function(e){var n=o(s(e));return 1&t&&(n=r(n,c,"")),2&t&&(n=r(n,u,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},"95d4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"box"},[n("el-input",{staticClass:"box-input mr20",attrs:{placeholder:"请输入搜索值",size:"mini",clearable:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("el-button",{attrs:{type:"primary",icon:"fa fa-magnifying-glass",size:"mini",disabled:t.searchButton},on:{click:t.searchContests}},[t._v("搜索 ")])],1),n("el-table",{attrs:{data:t.tableData,border:"",fit:""}},[n("el-table-column",{attrs:{prop:"contestId",label:"ID",align:"center"}}),n("el-table-column",{attrs:{prop:"contestTitle",label:"比赛标题",align:"center"}}),n("el-table-column",{attrs:{prop:"groupName",label:"所属组",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"发布人",align:"center"}}),n("el-table-column",{attrs:{label:"评审状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?n("el-tag",{attrs:{type:"success"}},[t._v("通过")]):e.row.statusText?n("el-tag",{attrs:{type:"danger"}},[t._v("失败")]):n("el-tag",{attrs:{type:"warning"}},[t._v("审核中")])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"warning",size:"mini",round:""},on:{click:function(n){return t.check(e.row)}}},[t._v("查看")])]}}])})],1),n("el-dialog",{attrs:{title:"比赛详情",visible:t.dialog,width:"50%"},on:{"update:visible":function(e){t.dialog=e}}},[n("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:t.srcUrl,alt:"封面图"}}),n("mdEditor",{staticStyle:{"min-height":"300px"},attrs:{ishljs:!0,subfield:!1,toolbars:{},defaultOpen:"preview",toolbarsFlag:!1},model:{value:t.contestText,callback:function(e){t.contestText=e},expression:"contestText"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"success"},on:{click:t.pass}},[t._v("通过")]),n("el-button",{attrs:{type:"danger"},on:{click:t.fail}},[t._v("不通过")])],1)],1)],1)},s=[],o=(n("498a"),n("7c15")),i=n("b2d8"),r=n.n(i),l={name:"ReviewContests",components:{mdEditor:r.a.mavonEditor},data:function(){return{input:"",dialog:!1,multipleSelection:[],tableData:[],contestText:"",srcUrl:"",operation:{contestId:null,status:!1,statusText:null}}},computed:{deleteButton:function(){return!this.multipleSelection.length},searchButton:function(){return!this.input}},watch:{input:function(t){""===t.trim()&&this.selectContests()}},methods:{selectContests:function(){var t=this;Object(o["b"])("/selectContests").then((function(e){t.tableData=e.data.data}))},searchContests:function(){var t=this;Object(o["b"])("/searchContests",{query:this.input.trim()}).then((function(e){t.tableData=e.data.data}))},check:function(t){this.operation.contestId=t.contestId,this.contestText=t.contestText,this.srcUrl=t.url,this.dialog=!0},pass:function(){this.operation.status=!0,this.updateContest()},fail:function(){var t=this;this.$prompt("请输入不予通过的理由","不通过",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var n=e.value;t.operation.statusText=n,t.updateContest()}))},updateContest:function(){var t=this;Object(o["d"])("/updateContest",this.operation).then((function(e){e.data.status?(t.$message.success("审核成功。"),t.selectContests()):t.$message.error("审核失败！")})),this.dialog=!1}},mounted:function(){this.selectContests()}},c=l,u=n("2877"),d=Object(u["a"])(c,a,s,!1,null,"6a360a04",null);e["default"]=d.exports},c8d2:function(t,e,n){var a=n("5e77").PROPER,s=n("d039"),o=n("5899"),i="​᠎";t.exports=function(t){return s((function(){return!!o[t]()||i[t]()!==i||a&&o[t].name!==t}))}}}]);
//# sourceMappingURL=chunk-dd40ffb8.243c0b88.js.map