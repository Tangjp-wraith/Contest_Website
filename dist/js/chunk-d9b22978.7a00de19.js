(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9b22978"],{"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("e330"),a=r("1d80"),o=r("577e"),i=r("5899"),u=n("".replace),s="["+i+"]",l=RegExp("^"+s+s+"*"),p=RegExp(s+s+"*$"),c=function(e){return function(t){var r=o(a(t));return 1&e&&(r=u(r,l,"")),2&e&&(r=u(r,p,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},c8d2:function(e,t,r){var n=r("5e77").PROPER,a=r("d039"),o=r("5899"),i="​᠎";e.exports=function(e){return a((function(){return!!o[e]()||i[e]()!==i||n&&o[e].name!==e}))}},de9d:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"box"},[r("el-button",{staticClass:"mr20",attrs:{type:"danger",icon:"fa fa-trash-can",size:"mini",disabled:e.deleteButton},on:{click:e.deleteGroups}},[e._v("批量删除 ")]),r("el-button",{staticClass:"mr20",attrs:{type:"primary",icon:"fa fa-plus",size:"mini"},on:{click:function(t){return e.insertOrUpdate()}}},[e._v("添加")]),r("el-input",{staticClass:"box-input mr20",attrs:{placeholder:"请输入搜索值",size:"mini",clearable:""},model:{value:e.pageQuery.query,callback:function(t){e.$set(e.pageQuery,"query",t)},expression:"pageQuery.query"}}),r("el-button",{attrs:{type:"primary",icon:"fa fa-magnifying-glass",size:"mini",disabled:e.searchButton},on:{click:e.getGroupsList}},[e._v("搜索 ")])],1),r("el-table",{attrs:{data:e.tableData,border:"",fit:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection"}}),r("el-table-column",{attrs:{prop:"groupId",label:"ID",align:"center"}}),r("el-table-column",{attrs:{prop:"groupName",label:"组名称",align:"center"}}),r("el-table-column",{attrs:{prop:"encoding",label:"组编码",align:"center"}}),r("el-table-column",{attrs:{prop:"number",label:"人数",align:"center"}}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",size:"mini",round:""},on:{click:function(r){return e.insertOrUpdate(t.row)}}},[e._v("编辑")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pageQuery.currentPage,"page-sizes":[10,25,50],"page-size":e.pageQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-dialog",{attrs:{title:e.groupTitle,visible:e.dialog,width:"20%"},on:{"update:visible":function(t){e.dialog=t}}},[r("el-form",{ref:"group",attrs:{model:e.group,rules:e.groupRules}},[r("el-form-item",{attrs:{label:"组名称",prop:"groupName"}},[r("el-input",{attrs:{autocomplete:"off",maxlength:"10","show-word-limit":""},model:{value:e.group.groupName,callback:function(t){e.$set(e.group,"groupName",t)},expression:"group.groupName"}})],1),r("el-form-item",{attrs:{label:"组编码",prop:"encoding"}},[r("el-input",{attrs:{autocomplete:"off",maxlength:"5","show-word-limit":""},on:{input:function(t){e.group.encoding=e.group.encoding.replace(/\s*/g,"").toUpperCase()}},model:{value:e.group.encoding,callback:function(t){e.$set(e.group,"encoding",t)},expression:"group.encoding"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialog=!1}}},[e._v("取 消")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.group.groupId,expression:"group.groupId"}],attrs:{type:"primary"},on:{click:e.updateGroup}},[e._v("修 改")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.group.groupId,expression:"!group.groupId"}],attrs:{type:"primary"},on:{click:e.insertGroups}},[e._v("添 加")])],1)],1)],1)},a=[],o=(r("498a"),r("7c15")),i={name:"Groups",data:function(){return{pageQuery:{query:null,currentPage:1,pageSize:10},total:0,dialog:!1,multipleSelection:[],tableData:[],groupTitle:"",group:{groupName:"",encoding:""},groupRules:{groupName:[{required:!0,message:"名称不能为空",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z\d]{1,10}$/,message:"请输入1-10位字符"}],encoding:[{required:!0,message:"编码不能为空",trigger:"blur"},{pattern:/^[\da-zA-Z]{5}$/,message:"请输入五位字母或数字组合字符"}]}}},computed:{deleteButton:function(){return!this.multipleSelection.length},searchButton:function(){return!this.pageQuery.query}},watch:{"pageQuery.query":function(e){""===e.trim()&&this.getGroupsList()}},methods:{handleSizeChange:function(e){this.pageQuery.pageSize=e,this.getGroupsList()},handleCurrentChange:function(e){this.pageQuery.currentPage=e,this.getGroupsList()},getGroupsList:function(){var e=this;Object(o["c"])("/groups/list",this.pageQuery).then((function(t){e.tableData=t.data.data.records,e.total=t.data.data.total}))},handleSelectionChange:function(e){this.multipleSelection=e},deleteGroups:function(){var e=this;Object(o["c"])("/deleteGroups",this.multipleSelection).then((function(t){t&&(e.$message.success("删除成功。"),e.getGroupsList())}))},insertOrUpdate:function(e){void 0===e?(this.groupTitle="添加用户组",this.group={}):(this.groupTitle="修改用户组",this.group=e),this.dialog=!0},insertGroups:function(){var e=this;this.$refs.group.validate((function(t){t&&Object(o["c"])("/insertGroup",e.group).then((function(t){e.$message.success(t.data.msg),e.getGroupsList(),e.dialog=!1}))}))},updateGroup:function(){var e=this;this.$refs.group.validate((function(t){t&&Object(o["d"])("/updateGroup",e.group).then((function(t){t.data.status?(e.$message.success("修改成功。"),e.getGroupsList()):e.$message.error("修改失败！")})),e.dialog=!1}))}},mounted:function(){this.getGroupsList()}},u=i,s=r("2877"),l=Object(s["a"])(u,n,a,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-d9b22978.7a00de19.js.map