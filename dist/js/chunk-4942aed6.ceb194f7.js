(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4942aed6"],{"25f0":function(e,t,r){"use strict";var a=r("e330"),i=r("5e77").PROPER,s=r("6eeb"),o=r("825a"),n=r("3a9b"),l=r("577e"),c=r("d039"),u=r("ad6d"),p="toString",g=RegExp.prototype,d=g[p],m=a(u),f=c((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),b=i&&d.name!=p;(f||b)&&s(RegExp.prototype,p,(function(){var e=o(this),t=l(e.source),r=e.flags,a=l(void 0===r&&n(g,e)&&!("flags"in g)?m(e):r);return"/"+t+"/"+a}),{unsafe:!0})},"3e09":function(e,t,r){},"50f8":function(e,t,r){"use strict";r("3e09")},"73cf":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"registerContainer"},[r("el-form",{ref:"registerForm",attrs:{rules:e.rules,model:e.registerForm,"label-position":"right","label-width":"70px","validate-on-rule-change":!1}},[r("img",{attrs:{src:"src/assets/logo.png",alt:""}}),r("el-tabs",{attrs:{stretch:""},model:{value:e.activeSting,callback:function(t){e.activeSting=t},expression:"activeSting"}},[r("el-tab-pane",{attrs:{label:"注册账号",name:"0",disabled:""}},[r("el-form-item",{attrs:{prop:"name",label:"姓名："}},[r("el-input",{attrs:{"prefix-icon":"fa fa-user-graduate",placeholder:"请输入0-5位汉字"},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),r("el-form-item",{attrs:{prop:"phone",label:"电话："}},[r("el-input",{attrs:{"prefix-icon":"fa-solid fa-phone",placeholder:"请输入11位数字"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),r("el-form-item",{attrs:{prop:"email",label:"邮箱："}},[r("el-input",{attrs:{"prefix-icon":"fa fa-envelope",placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),r("el-form-item",{attrs:{prop:"password",label:"密码："}},[r("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"请输入6-16位密码，且至少包含一位数字和字母，可用特殊字符有$@!%*?&."}},[r("el-input",{attrs:{slot:"reference","prefix-icon":"fa fa-unlock-keyhole","show-password":"",placeholder:"请输入6-16位密码"},slot:"reference",model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)],1)],1),r("el-tab-pane",{attrs:{label:"输入信息",name:"1",disabled:""}},[r("el-form-item",{attrs:{prop:"school",label:"学校："}},[r("el-input",{attrs:{"prefix-icon":"fa fa-university"},model:{value:e.registerForm.school,callback:function(t){e.$set(e.registerForm,"school",t)},expression:"registerForm.school"}})],1),r("el-form-item",{attrs:{prop:"sex",label:"性别："}},[r("el-radio",{staticClass:"radioL",attrs:{label:"true",border:""},model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[e._v("男")]),r("el-radio",{staticClass:"radioR",attrs:{label:"false",border:""},model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[e._v("女")])],1),r("el-form-item",{attrs:{prop:"birthday",label:"生日："}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","prefix-icon":"fa fa-calendar-days","value-format":"yyyy-MM-dd"},model:{value:e.registerForm.birthday,callback:function(t){e.$set(e.registerForm,"birthday",t)},expression:"registerForm.birthday"}})],1),r("el-form-item",{attrs:{prop:"address",label:"地址："}},[r("el-input",{attrs:{"prefix-icon":"fa fa-map-marker"},model:{value:e.registerForm.address,callback:function(t){e.$set(e.registerForm,"address",t)},expression:"registerForm.address"}})],1)],1),r("el-tab-pane",{staticStyle:{"text-align":"center"},attrs:{name:"2",disabled:"",label:"选择身份"}},[r("el-select",{staticStyle:{width:"100%",margin:"20px auto 30px auto"},attrs:{placeholder:"请选身份",disabled:e.selectDisabled},model:{value:e.selectIdentity,callback:function(t){e.selectIdentity=t},expression:"selectIdentity"}},[r("el-option",{key:"1",attrs:{label:"学生",value:1},nativeOn:{click:function(t){return e.student.apply(null,arguments)}}}),r("el-option",{key:"2",attrs:{label:"老师",value:2},nativeOn:{click:function(t){return e.teacher.apply(null,arguments)}}})],1)],1)],1),r("el-steps",{attrs:{active:e.active,"align-center":""}},[r("el-step",{attrs:{title:"第一步"}}),r("el-step",{attrs:{title:"第二步"}}),r("el-step",{attrs:{title:"完成"}})],1),r("div",{staticClass:"btn"},[e.active<2?r("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.next()}}},[e._v("下一步")]):e._e(),3===e.active?r("el-button",{attrs:{type:"success",round:""},on:{click:e.submitForm}},[e._v("提    交")]):e._e()],1),r("el-row",[r("el-link",{staticStyle:{float:"right",padding:"10px 0 5px 0"},attrs:{type:"primary"},on:{click:e.goToLoginPage}},[e._v("已有账号，点击登录")])],1),r("el-dialog",{attrs:{title:"加入组或者创建组",visible:e.outerVisible,center:"",width:"20%"},on:{"update:visible":function(t){e.outerVisible=t}}},[r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary",round:""},on:{click:e.joinGroup}},[e._v("加入组")]),r("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){e.innerVisible=!0}}},[e._v("创建组")])],1),r("el-dialog",{attrs:{width:"30%",title:"创建组",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[r("el-form",{ref:"group",attrs:{rules:e.groupRules,model:e.group}},[r("el-form-item",{attrs:{prop:"groupName",label:"名称："}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":"",placeholder:"请输入组名称"},model:{value:e.group.groupName,callback:function(t){e.$set(e.group,"groupName",t)},expression:"group.groupName"}})],1),r("el-form-item",{attrs:{prop:"encoding",label:"编码："}},[r("el-input",{attrs:{maxlength:"5","show-word-limit":"",placeholder:"请输入五位组编码"},on:{blur:function(t){e.group.encoding=e.group.encoding.replace(/\s*/g,"").toUpperCase()}},model:{value:e.group.encoding,callback:function(t){e.$set(e.group,"encoding",t)},expression:"group.encoding"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"danger",round:""},on:{click:function(t){e.innerVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary",round:""},on:{click:e.insertGroup}},[e._v("确定")])],1)],1)],1)],1)],1)},i=[],s=(r("d3b7"),r("25f0"),r("7c15")),o={name:"register",data:function(){return{active:0,selectIdentity:"",registerForm:{phone:"",email:"",password:"",name:"",sex:"",birthday:"",school:"",address:"",groupId:""},rules:{},group:{groupName:"",encoding:""},groupRules:{groupName:[{required:!0,message:"名称不能为空",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z\d]{1,10}$/,message:"请输入1-10位字符"}],encoding:[{required:!0,message:"编码不能为空",trigger:"blur"},{pattern:/^[\da-zA-Z]{5}$/,message:"请输入五位字母或数字组合字符"}]},outerVisible:!1,innerVisible:!1,selectDisabled:!1}},watch:{active:{handler:function(){switch(this.active){case 0:this.rules={name:[{required:!0,message:"姓名不能为空",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9-]{1,12}$/,message:"请输入1-12位汉字、字母、数字"}],phone:[{required:!0,message:"电话不能为空",trigger:"blur"},{pattern:/^[1]+[0-9]{10}$/,message:"请检查手机号的格式"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"请检查邮箱的格式"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^(?=.*\d)(?=.*[a-zA-Z])[A-Za-z\d$@!%*?&.]{6,16}$/,message:"请检查密码格式"}]};break;case 1:this.rules={school:[{required:!0,message:"学校不能为空",trigger:"blur"}],sex:[{required:!0,message:"性别不能为空",trigger:"blur"}],birthday:[{required:!0,message:"生日不能为空",trigger:"blur"}],address:[{required:!0,message:"地址不能为空",trigger:"blur"}]};break}},immediate:!0}},methods:{next:function(){var e=this;this.$refs.registerForm.validate((function(t){t?0===e.active?Object(s["c"])("/registerVerify",e.registerForm).then((function(t){t&&t.data.status?e.active++:(e.$message.error(t.data.msg),e.registerForm.phone="",e.registerForm.email="")})):e.active++:e.$message.error("请输入完整再进行下一步吧！")}))},submitForm:function(){var e=this;Object(s["c"])("/register",this.registerForm).then((function(t){t&&t.data.status?e.goToLoginPage():e.active=0}))},goToLoginPage:function(){this.$router.push("/login")},student:function(){this.registerForm.groupId=2,this.active=3},teacher:function(){this.active=2,this.selectIdentity="",this.outerVisible=!0},insertGroup:function(){var e=this;this.$refs.group.validate((function(t){t&&Object(s["c"])("/insertGroup",e.group).then((function(t){t?(e.registerForm.groupId=t.data.data,e.innerVisible=!1,e.outerVisible=!1,e.selectDisabled=!0,e.active=3,e.selectIdentity=2):e.selectIdentity=0}))}))},joinGroup:function(){var e=this;this.$prompt("请输入5为组编码","加入组",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[0-9A-Za-z]{5}$/,inputErrorMessage:"编码格式不正确",roundButton:!0}).then((function(t){var r=t.value;Object(s["b"])("/encoding/"+r.toUpperCase()).then((function(t){t.data.status?(e.$message({type:"success",message:"加入组成功"}),e.registerForm.groupId=t.data.data[0].groupId,e.innerVisible=!1,e.outerVisible=!1,e.selectDisabled=!0,e.active=3):(e.$message({type:"warning",message:"暂无该组，请创建"}),e.group.encoding=r.toUpperCase(),e.innerVisible=!0)}))})).catch((function(){e.$message({type:"info",message:"取消输入"})}))}},computed:{activeSting:{get:function(){var e=this.active;return 3===this.active&&(e-=1),e.toString()},set:function(e){return e}}}},n=o,l=(r("50f8"),r("2877")),c=Object(l["a"])(n,a,i,!1,null,"6762f22f",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4942aed6.ceb194f7.js.map