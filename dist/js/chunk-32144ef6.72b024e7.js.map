{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/layout/Main/Manage/index.vue?732a","webpack:///src/views/layout/Main/Manage/index.vue","webpack:///./src/views/layout/Main/Manage/index.vue?71aa","webpack:///./src/views/layout/Main/Manage/index.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/layout/Main/Manage/index.vue?2b5b"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","uncurryThis","requireObjectCoercible","toString","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","slot","staticStyle","_v","on","$event","$router","push","contests","contestId","scopedSlots","_u","key","fn","scope","row","statusText","dialogVisible","cid","_e","status","updateContests","Date","regEndTime","sendMessage","removeContest","contestTitle","required","message","model","value","callback","$$v","title","expression","text","send","staticRenderFns","name","data","visible","undefined","watch","isStudent","methods","$store","state","gid","contestsLoading","$message","warning","res","mounted","component","PROPER_FUNCTION_NAME","PROPER","fails","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-32144ef6.72b024e7.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":16,\"offset\":4}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticStyle:{\"line-height\":\"28px\",\"font-size\":\"20px\"}},[_vm._v(\"比赛列表\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$router.push('/manage/contest')}}},[_vm._v(\"添加比赛 \")])],1),_c('el-table',{attrs:{\"data\":_vm.contests,\"fit\":\"\",\"current-row-key\":_vm.contests.contestId}},[_c('el-table-column',{attrs:{\"prop\":\"contestTitle\",\"label\":\"比赛名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"发布人\",\"width\":\"150%\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"审核状态\",\"width\":\"150%\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"通过\")]):(scope.row.statusText)?_c('el-popover',{attrs:{\"placement\":\"top-start\",\"width\":\"150\",\"trigger\":\"hover\",\"content\":scope.row.statusText}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"mini\",\"plain\":\"\"},slot:\"reference\"},[_vm._v(\"失败\")])],1):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"审核中\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"报名人数\",\"width\":\"100%\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150%\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.dialogVisible=true;_vm.cid=scope.row.contestId}}},[_vm._v(\" 发送消息 \")]):_vm._e(),(scope.row.status || scope.row.statusText)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.updateContests(scope.row.contestId)}}},[_vm._v(\"修改比赛 \")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"评审\",\"width\":\"110%\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.status)?_c('el-popover',{attrs:{\"placement\":\"top-start\",\"trigger\":\"hover\",\"content\":\"审核未完成\"}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"info\",\"size\":\"mini\",\"round\":\"\"},slot:\"reference\"},[_vm._v(\"禁用\")])],1):(new Date() > new Date(scope.row.regEndTime))?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.sendMessage(scope.row.contestId)}}},[_vm._v(\"评审 \")]):_c('el-popover',{attrs:{\"placement\":\"top-start\",\"trigger\":\"hover\",\"content\":\"报名未结束，不可评审\"}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"warning\",\"size\":\"mini\",\"round\":\"\"},slot:\"reference\"},[_vm._v(\"禁用\")])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"删除\",\"width\":\"110%\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{attrs:{\"title\":\"这是一段内容确定删除吗？\"},on:{\"confirm\":function($event){return _vm.removeContest(scope.row.contestId,scope.row.contestTitle)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"发送消息\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入标题\",\"maxlength\":\"20\",\"show-word-limit\":\"\",\"rules\":[{ required: true, message: '标题不能为空'}]},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"text\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入内容\",\"rules\":[{ required: true, message: '内容不能为空'}]},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.send}},[_vm._v(\"发送\")])],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-row>\n      <el-col :span=\"16\" :offset=\"4\">\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\">\n            <span style=\"line-height: 28px;font-size: 20px\">比赛列表</span>\n            <el-button @click=\"$router.push('/manage/contest')\" type=\"primary\" round style=\"float: right;\"\n                       size=\"mini\">添加比赛\n            </el-button>\n          </div>\n          <el-table :data=\"contests\" fit :current-row-key=\"contests.contestId\">\n            <el-table-column prop=\"contestTitle\" label=\"比赛名称\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"name\" label=\"发布人\" width=\"150%\" align=\"center\"></el-table-column>\n            <!--审核状态-->\n            <el-table-column prop=\"status\" label=\"审核状态\" width=\"150%\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-tag v-if=\"scope.row.status\" type=\"success\">通过</el-tag>\n                <el-popover v-else-if=\"scope.row.statusText\" placement=\"top-start\" width=\"150\" trigger=\"hover\"\n                            :content=\"scope.row.statusText\">\n                  <el-button slot=\"reference\" type=\"danger\" size=\"mini\" plain>失败</el-button>\n                </el-popover>\n                <el-tag v-else type=\"warning\">审核中</el-tag>\n              </template>\n            </el-table-column>\n            <!--报名人数-->\n            <el-table-column prop=\"number\" label=\"报名人数\" width=\"100%\" align=\"center\"></el-table-column>\n\n            <!--操作-->\n            <el-table-column label=\"操作\" width=\"150%\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-button type=\"text\" size=\"mini\" v-if=\"scope.row.status\"\n                           @click=\"dialogVisible=true;cid=scope.row.contestId\">\n                  发送消息\n                </el-button>\n                <el-button type=\"text\" size=\"mini\" v-if=\"scope.row.status || scope.row.statusText\"\n                           @click=\"updateContests(scope.row.contestId)\">修改比赛\n                </el-button>\n              </template>\n            </el-table-column>\n            <!--评审-->\n            <el-table-column label=\"评审\" width=\"110%\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-popover v-if=\"!scope.row.status\" placement=\"top-start\" trigger=\"hover\" content=\"审核未完成\">\n                  <el-button slot=\"reference\" type=\"info\" size=\"mini\" round>禁用</el-button>\n                </el-popover>\n\n                <el-button v-else-if=\"new Date() > new Date(scope.row.regEndTime)\" type=\"success\" size=\"mini\" round\n                           @click=\"sendMessage(scope.row.contestId)\">评审\n                </el-button>\n\n                <el-popover v-else placement=\"top-start\" trigger=\"hover\" content=\"报名未结束，不可评审\">\n                  <el-button slot=\"reference\" type=\"warning\" size=\"mini\" round>禁用</el-button>\n                </el-popover>\n\n              </template>\n            </el-table-column>\n            <!--删除-->\n            <el-table-column label=\"删除\" width=\"110%\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-popconfirm title=\"这是一段内容确定删除吗？\"\n                               @confirm=\"removeContest(scope.row.contestId,scope.row.contestTitle)\">\n                  <el-button slot=\"reference\" type=\"danger\" size=\"mini\" round>删除</el-button>\n                </el-popconfirm>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-card>\n\n      </el-col>\n    </el-row>\n\n    <el-dialog title=\"发送消息\" :visible.sync=\"dialogVisible\" width=\"30%\">\n      <el-form label-position=\"top\">\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input placeholder=\"请输入标题\" v-model=\"title\" maxlength=\"20\" show-word-limit\n                    :rules=\"[{ required: true, message: '标题不能为空'}]\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"内容\" prop=\"text\">\n          <el-input type=\"textarea\" :rows=\"5\" placeholder=\"请输入内容\" v-model=\"text\"\n                    :rules=\"[{ required: true, message: '内容不能为空'}]\"></el-input>\n        </el-form-item>\n        <el-form-item style=\"float: right\">\n          <el-button round @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" round @click=\"send\">发送</el-button>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n  </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {deleteRequest, getRequest, postRequest} from \"@/utils/api\";\n\nexport default {\n  name: \"Manage\",\n  data() {\n    return {\n      // 发送消息对话框\n      dialogVisible: false,\n      // 删除提示框\n      visible: false,\n      // 比赛列表\n      contests: [],\n      // 比赛id\n      cid: undefined,\n      // 发送消息的标题\n      title: '',\n      // 发送消息的内容\n      text: ''\n    }\n  },\n  watch: {\n    \"$store.state.gid\"() {\n      this.isStudent();\n    }\n  },\n  methods: {\n    isStudent() {\n      if (this.$store.state.gid && this.$store.state.gid !== 2) {\n        this.contestsLoading();\n      }else {\n        this.$message.warning(\"请登录！\");\n        this.$router.push(\"/login\");\n      }\n    },\n    contestsLoading() {\n      getRequest(\"/contests/gid\", {gid: this.$store.state.gid}).then(res => {\n        // console.log(res)\n        if (res) {\n          this.contests = res.data.data;\n        }\n      });\n    },\n    // 传入比赛id查询评审的学生\n    sendMessage(cid, title) {\n      this.$router.push({name: 'manage-review', params: {contestId: cid, contestTitle: title}});\n    },\n    // 更新比赛\n    updateContests(cid) {\n      this.$router.push({name: 'manage-contest', params: {contestId: cid}});\n    },\n    // 删除比赛\n    removeContest(id) {\n      deleteRequest(\"/deleteContest/\" + id).then(res => {\n        // console.log(res.data);\n        if (res.data.status) {\n          this.$message.success(\"删除成功。\")\n        } else {\n          this.$message.error(\"删除失败！\")\n        }\n        this.contestsLoading();\n      })\n      this.visible = false;\n    },\n    // 发送消息\n    send() {\n      if (this.title.trim() !== '' && this.text.trim() !== '') {\n        const jsonObject = {cid: this.cid, uid: this.$store.state.uid, title: this.title, text: this.text}\n        // console.log(jsonObject);\n        postRequest(\"/messages/save\", jsonObject).then((res) => {\n          // console.log(res.data);\n          if (res.data.status) {\n            this.$message.success(\"发送成功。\")\n          } else {\n            this.$message.error(\"发送失败！\")\n          }\n          this.dialogVisible = false;\n        });\n      } else {\n        this.$message.warning(\"请在左侧勾选学生或检测标题内容是否为空！\")\n      }\n    }\n  },\n  mounted() {\n    this.isStudent();\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-row {\n  margin-bottom: 20px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.el-col {\n  border-radius: 4px;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4341f394&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4341f394&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4341f394\",\n  null\n  \n)\n\nexport default component.exports","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4341f394&lang=less&scoped=true&\""],"sourceRoot":""}