(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04a5ee11"],{1245:function(t,e,n){"use strict";n("cf00")},3853:function(t,e,n){"use strict";n("a2ec")},"3faa":function(t,e,n){"use strict";n("7ba1")},"4fc0":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16,offset:4}},[n("LatestContest")],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12,offset:4}},[n("ContestList")],1),n("el-col",{attrs:{span:4}},[n("Announcements")],1)],1)],1)},a=[],i=n("c84d"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"line-height":"28px","font-size":"20px"}},[t._v("公告通知")])]),t._l(t.list,(function(e){return n("div",{key:e.messageId,staticClass:"text item"},[n("el-link",{on:{click:function(n){return t.$router.push({name:"messages-detail",params:{messageId:e.messageId}})}}},[t._v(" "+t._s(e.title)+" ")])],1)})),n("router-link",{staticClass:"more-link",attrs:{to:{name:"announcement"}}},[t._v(" 查看更多... ")])],2)],1)},r=[],c=n("7c15"),l={name:"AnnouncementList",data:function(){return{list:[]}},mounted:function(){var t=this;Object(c["b"])("/messages/announcement").then((function(e){t.list=e.data.data}))}},d=l,u=(n("3faa"),n("2877")),f=Object(u["a"])(d,o,r,!1,null,"479a7dfc",null),p=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("h1",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toContest(t.contest.contestId)}}},[t._v(" 最新比赛："),n("span",{staticStyle:{color:"#659fdc"}},[t._v(t._s(t.contest.contestTitle))])]),n("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end","justify-content":"center"}},[n("span",{staticStyle:{"font-size":"14px",color:"#909399"}},[t._v(t._s(t.text))]),n("span",{style:{color:t.spanColor}},[t._v(t._s(t.day)+" 天 "+t._s(t.hour)+" 时 "+t._s(t.min)+" 分 "+t._s(t.seconds)+" 秒")])])]),n("el-divider"),n("el-steps",{attrs:{active:t.active,"align-center":""}},[n("el-step",{attrs:{title:"报名开始",description:t.contest.regStartTime}}),n("el-step",{attrs:{title:"结束报名",description:t.contest.regEndTime}}),n("el-step",{attrs:{title:"比赛开始",description:t.contest.startTime}}),n("el-step",{attrs:{title:"比赛结束",description:t.contest.endTime}})],1)],1)},h=[],v={name:"LatestContest",data:function(){return{active:0,text:"",day:0,hour:0,min:0,seconds:0,spanColor:"",contest:{}}},mounted:function(){var t=this;Object(c["b"])("/latestContest").then((function(e){var n=e.data.data;t.contest=n;var s=new Date,a=new Date(n.regStartTime),i=new Date(n.regEndTime),o=new Date(n.startTime),r=new Date(n.endTime);s<a?(t.formatTimeStamp(Math.floor((a-s)/1e3)),t.text="距离报名开始还剩",t.spanColor="#67C23A",t.active=0):s<i?(t.formatTimeStamp(Math.floor((i-s)/1e3)),t.text="距离报名结束还剩",t.spanColor="#E6A23C",t.active=1):s<o?(t.formatTimeStamp(Math.floor((o-s)/1e3)),t.text="距离比赛开始还剩",t.spanColor="#409EFF",t.active=2):s<r?(t.formatTimeStamp(Math.floor((r-s)/1e3)),t.text="距离比赛结束还剩",t.spanColor="#F56C6C",t.active=3):(t.text="比赛已结束",t.active=4)}))},methods:{toContest:function(){this.$router.push("/find/"+this.contest.contestId)},formatTimeStamp:function(t){var e,n,s,a,i=this;setInterval((function(){e=Math.floor(t/86400);var o=t-86400*e;n=Math.floor(o/3600);var r=t-86400*e-3600*n;s=Math.floor(r/60),a=Math.floor(t-86400*e-3600*n-60*s),i.day=e,i.hour=n,i.min=s,i.seconds=a,t--}),1e3)}}},g=v,_=(n("55b5"),Object(u["a"])(g,m,h,!1,null,"3474e62a",null)),y=_.exports,x={name:"Home",components:{LatestContest:y,ContestList:i["a"],Announcements:p}},C=x,k=(n("3853"),Object(u["a"])(C,s,a,!1,null,null,null));e["default"]=k.exports},"55b5":function(t,e,n){"use strict";n("5ac3")},"5ac3":function(t,e,n){},"7ba1":function(t,e,n){},a2ec:function(t,e,n){},c84d:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[t.hidden?[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"line-height":"28px","font-size":"20px"}},[t._v("比赛列表")])])]:t._e(),n("div",{staticClass:"list"},[n("el-row",t._l(t.lists,(function(e){return n("el-col",{key:e.contestId,staticStyle:{"margin-bottom":"30px"},attrs:{span:9,offset:2}},[n("el-card",{staticStyle:{cursor:"pointer"},attrs:{"body-style":{padding:"0"}}},[n("router-link",{attrs:{to:{name:"find-detail",params:{contestId:e.contestId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.navigate;return[n("div",{attrs:{role:"link"},on:{click:a,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.apply(null,arguments)}}},[n("img",{staticClass:"image",attrs:{src:e.url,alt:""}}),n("div",{staticStyle:{padding:"14px"}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.contestTitle,placement:"top"}},[n("span",{staticStyle:{display:"inline-block","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"100%"}},[t._v(t._s(e.contestTitle))])]),n("div",[n("time",{staticClass:"time"},[t._v(t._s(e.regStartTime)+"至"+t._s(e.regEndTime))])])],1)])]}}],null,!0)})],1)],1)})),1)],1),t.hidden?[n("router-link",{staticClass:"more-link",attrs:{to:{path:"/find"}}},[t._v(" 查看更多... ")])]:[n("div",{staticStyle:{"text-align":"center"}},[n("el-link",{attrs:{type:"primary",underline:!1},on:{click:t.contestListListLoading}},[t._v(t._s(t.loadingText))])],1)]],2)],1)},a=[],i=n("7c15"),o={name:"Contest",data:function(){return{hidden:!0,loader:!0,loadingText:"加载更多",page:1,lists:[]}},mounted:function(){"/find"===this.$route.path&&(this.hidden=!1),this.contestListListLoading()},methods:{contestListListLoading:function(){var t=this;this.loader&&Object(i["b"])("/contestsList/"+this.page).then((function(e){var n=e.data.data;t.page===n.pages?(t.loader=!1,t.loadingText="没有更多了"):t.page++;for(var s=0;s<n.records.length;s++)t.lists.push(n.records[s])}))}}},r=o,c=(n("1245"),n("2877")),l=Object(c["a"])(r,s,a,!1,null,"c22cad54",null);e["a"]=l.exports},cf00:function(t,e,n){}}]);
//# sourceMappingURL=chunk-04a5ee11.c09c1eea.js.map